<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="index.css">
  <title>Mara Green Tours</title>
</head>
<body>
<header>
  <div class="header">
    <div class="logo">
      <img src="images/logo1.jpg" alt="Mara Green Tours Logo" />
      <h1>EMPUAN <br> SAFARIS</h1>
    </div>
    <button id="menu-toggle" aria-label="Toggle Menu">
      &#9776; <!-- hamburger icon -->
    </button>
    <nav class="nav">
      <ul id="nav-list">
        <li><a href="#home">Home</a></li>
        <li><a href="#about">About</a></li>
        <li><a href="#services">Services</a></li>
        <li><a href="#pricing">Pricing</a></li>
        <li><a href="#contact">Contact</a></li>
        <li><button id="open-login">Admin Login</button></li>
      </ul>
    </nav>
  </div>
</header>

<script>
  const menuToggle = document.getElementById('menu-toggle');
const nav = document.querySelector('.nav');

menuToggle.addEventListener('click', () => {
  nav.classList.toggle('open');
});

</script>

<section class="hero" id="home">
  <div class="hero-content">
    <div class="hero1">
      <h2>Discover the Wild Beauty of the Maasai Mara</h2>
      <p>
        At Mara Green Tours, we bring you closer to nature through unforgettable safari adventures in the heart of Kenya's Maasai Mara.
        Witness breathtaking landscapes, majestic wildlife, and vibrant cultures — all while traveling with passionate, local guides dedicated to eco-friendly tourism.
      </p>
      <a href="#pricing"><button>Book Now</button></a>
    </div>
  </div>
</section>



  </section>

  <section class="about" id="about">
    <div class="container">
      <h2 class="section-title">ABOUT US</h2>
      <div class="about-container">
        <div class="about-image">
          <img src="images/img4.jpg" alt="Safari vehicle in Maasai Mara">
        </div>
        <div class="about-text">
          <h3>Welcome to Mara Green Tours</h3>
          <p>
            At Mara Green Tours, we specialize in unforgettable safari adventures through the heart of the Maasai Mara. As a locally-owned and eco-conscious tour company, we combine sustainability with authentic experiences—offering expertly guided tours, rich cultural insights, and close encounters with Africa’s iconic wildlife.
          </p>
          <p>
            From the dramatic Great Migration to serene sunrise game drives, every journey is thoughtfully curated to leave you with memories that last a lifetime. Discover the magic of the savannah with a team that truly knows and loves the land.
          </p>
        </div>
      </div>
    </div>
  </section>

  <section class="services" id="services">
    <h2>SERVICES</h2>
    <div class="services-grid">
      <div class="gamedrive">
        <img src="images/img5.jpg" alt="Tourists on a game drive">
        <h3>Game Drives</h3>
        <p>Experience thrilling wildlife safaris across the vast Maasai Mara plains, guided by local experts.</p>
      </div>
      <div class="naturewalk">
        <img src="images/img6.jpg" alt="Guests enjoying a guided nature walk">
        <h3>Nature Walks</h3>
        <p>Explore the rich flora and fauna on foot, led by knowledgeable guides sharing the hidden wonders of the wilderness.</p>
      </div>
      <div class="mvillage">
        <img src="images/img7.jpg" alt="Maasai people welcoming guests">
        <h3>Maasai Village Visits</h3>
        <p>Immerse yourself in Maasai culture through authentic village experiences, traditional dances, and storytelling.</p>
      </div>
      <div class="bornfire">
        <img src="images/img8.jpg" alt="Guests sitting around a bonfire at night">
        <h3>Evening Bonfires</h3>
        <p>Unwind around a warm bonfire under the stars, sharing safari tales and enjoying the serenity of the African night.</p>
      </div>
      <div class="hiking">
        <img src="images/img9.jpg" alt="Hikers climbing a scenic trail">
        <h3>Scenic Hiking</h3>
        <p>Discover Kenya’s beautiful hills and hidden trails through guided hikes offering breathtaking views.</p>
      </div>
    </div>
  </section>

  <section class="pricing" id="pricing">
  <h2>Pricing</h2>
  <div class="pricing-grid" id="pricing-grid"></div>
</section>

<script type="module" src="/src/pricing.js"></script>

  <!-- Booking Modal -->
<!-- Booking Modal -->
<div id="booking-modal" class="modal" style="display: none;">
  <div class="modal-content">
    <span id="close-modal" class="close">&times;</span>
    <h2>Book This Tent</h2>
    <form id="booking-form">
      <input type="hidden" id="tent_id" name="tent_id">
      <input type="text" id="name" placeholder="Your Name" required><br>
      <input type="email" id="email" placeholder="Your Email" required><br>
      <input type="text" id="phone" placeholder="Your Phone" required><br>
      <input type="date" id="check_in" required><br>
      <input type="date" id="check_out" required><br>
      <button type="submit">Submit Booking</button>
    </form>
  </div>
</div>


<style>
  .modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 999;
}

.modal-content {
  background-color: white;
  padding: 20px;
  border-radius: 10px;
  width: 300px;
}

.close {
  float: right;
  font-size: 24px;
  cursor: pointer;
}

</style>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const modal = document.getElementById('booking-modal');
    const closeModal = document.getElementById('close-modal');
    const form = document.getElementById('booking-form');

    closeModal.onclick = () => {
      modal.style.display = 'none';
    };

    form.addEventListener('submit', function (e) {
      e.preventDefault();

      const formData = {
        name: document.getElementById('name').value,
        email: document.getElementById('email').value,
        phone: document.getElementById('phone').value,
        tent_id: document.getElementById('tent_id').value,
        check_in: document.getElementById('check_in').value,
        check_out: document.getElementById('check_out').value
      };

      fetch('http://localhost:5000/api/bookings', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(formData)
      })
      .then(response => response.json())
      .then(data => {
        alert(data.message || 'Booking successful!');
        modal.style.display = 'none';
        form.reset();
      })
      .catch(error => {
        console.error('Booking failed:', error);
      });
    });

    document.querySelectorAll('.book-btn').forEach(btn => {
      btn.addEventListener('click', function () {
        const tentId = this.getAttribute('data-tent-id');
        document.getElementById('tent_id').value = tentId;
        modal.style.display = 'flex';
      });
    });
  });
</script>

 <section class="contact" id="contact">
  <div class="contactme">
    <h2>Contact Us</h2>
    <form id="contact-form">
      <label for="name">Name</label>
      <input type="text" id="name" name="name" placeholder="Enter your name" required>

      <label for="email">Email</label>
      <input type="email" id="email" name="email" placeholder="Enter your email" required>

      <label for="message">Message</label>
      <textarea id="message" name="message" rows="5" placeholder="Your message..." required></textarea>

      <input type="hidden" name="_captcha" value="false"> <!-- Disable CAPTCHA -->

      <button type="submit">Send Message</button>
    </form>
  </div>
  </section>

  <script>
    // Form submission event listener
    document.getElementById('contact-form').addEventListener('submit', async (e) => {
      e.preventDefault();  // Prevent default form submission
  
      const formData = new FormData(e.target);  // Get form data
      const formObj = Object.fromEntries(formData.entries());
  
      try {
        // Send form data to FormSubmit.co API
        const response = await fetch('https://formsubmit.co/reyiabenjamin8@gmail.com', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(formObj),
        });
  
        // Check if submission was successful
        if (response.ok) {
          // Show a success pop-up message
          alert('Thank you for your message! We will get back to you shortly.');
        } else {
          // Show an error pop-up message
          alert('There was an issue with your submission. Please try again later.');
        }
      } catch (error) {
        // Handle network or other errors
        alert('There was an error sending your message. Please try again later.');
      }
    });
  </script>
  

  <section class="footer">
    <div class="rights">
      <p>All rights reserved<br> &copy; 2025 Mara Green Tours</p>
    </div>
    <div class="links">
      <p>Follow us</p>
      <ul>
        <ul>
          <li><a href="https://wa.me/254718769412" target="_blank"><i class="fab fa-whatsapp"></i> WhatsApp</a></li>
          <li><a href="https://www.facebook.com/profile.php?id=61576018184965" target="_blank"><i class="fab fa-facebook-f"></i> Facebook</a></li>
          <li><a href="https://www.instagram.com/mara_green_tours" target="_blank"><i class="fab fa-instagram"></i> Instagram</a></li>
      </ul>
      
    </div>
    <div class="call">
      <p>Contact Us</p>
      <ul>
        <div class="call">
          <ul>
              <li><i class="fas fa-phone-alt"></i> <a href="tel:+254718769412">+254718769412</a></li>
              <li><i class="fas fa-envelope"></i> <a href="mailto:empuansafaris@gmail.com">empuansafaris@gmail.com</a></li>
          </ul>
      </div>
      
      </ul>
    </div>
  </section>


 </script>

 <div id="loginModal" class="login-modal">
  <div class="login-modal-content">
    <span class="close">&times;</span>
    <h2>Admin Login</h2>
    <input type="text" id="username" placeholder="Username" class="login-input" />
    <input type="password" id="password" placeholder="Password" class="login-input" />
    <button id="loginBtn" class="login-submit">Login</button>
    <p id="login-error" class="login-error"></p>

<script>
  // Modal Elements
  const loginModal = document.getElementById('loginModal');
  const openLoginBtn = document.getElementById('open-login');
  const closeBtn = document.querySelector('.close');
  const loginBtn = document.getElementById('loginBtn');
  const loginError = document.getElementById('login-error');

  // Open Login Modal
  openLoginBtn.addEventListener('click', () => {
    loginModal.style.display = 'block';
  });

  // Close Modal when X or outside of the modal is clicked
  closeBtn.onclick = () => {
    loginModal.style.display = 'none';
    loginError.textContent = ''; // Clear any error messages
  };

  window.onclick = (e) => {
    if (e.target === loginModal) {
      loginModal.style.display = 'none';
      loginError.textContent = '';
    }
  };

  // Handle login form submission
  loginBtn.addEventListener('click', async () => {
    const username = document.getElementById('username').value.trim();
    const password = document.getElementById('password').value.trim();

    // Validate input
    if (!username || !password) {
      loginError.textContent = 'Both fields are required!';
      return;
    }

    try {
      const response = await fetch('http://localhost:5000/api/admin/login', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ username, password })
      });

      // Handle response
      if (!response.ok) {
        const errorText = await response.text(); // To catch HTML error messages
        throw new Error(`Login failed: ${errorText}`);
      }

      const data = await response.json();

      // Check if token is returned
      if (data.token) {
        localStorage.setItem('token', data.token);
        window.location.href = 'http://localhost:5000/admin'; // Redirect to admin page
      } else {
        loginError.textContent = data.message || 'Invalid login credentials';
      }
    } catch (error) {
      console.error('Login failed:', error);
      loginError.textContent = 'Error logging in. Please try again.';
    }
  });
</script>



  
</body>
</html>
